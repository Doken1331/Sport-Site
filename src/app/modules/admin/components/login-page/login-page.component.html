<div class="container login">
    <form class="login__form" [formGroup]="form" (ngSubmit)="submit()">
        <h2 class="login__title">Вход в панель администратора</h2>
        <div class="login__msg-error" *ngIf="auth.error$ | async as error">
            {{ error }}
        </div>
        <div class="login__msg" *ngIf="message">
            {{ message }}
        </div>
        <div
            class="form-control"
            [ngClass]="{
                invalid:
                    form.get('email')?.touched && form.get('email')?.invalid
            }"
        >
            <label for="email">Email</label>
            <input type="email" id="email" formControlName="email" />
            <div
                class="validation"
                *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
            >
                <small *ngIf="form.get('email')?.errors?.['required']"
                    >Введите поле email</small
                >
                <small *ngIf="form.get('email')?.errors?.['email']"
                    >Поле email должно быть корректным</small
                >
            </div>
        </div>
        <div
            class="form-control"
            [ngClass]="{
                invalid:
                    form.get('password')?.touched &&
                    form.get('password')?.invalid
            }"
        >
            <label for="password">Password</label>
            <input type="password" id="password" formControlName="password" />
            <div
                class="validation"
                *ngIf="
                    form.get('password')?.touched &&
                    form.get('password')?.invalid
                "
            >
                <small *ngIf="form.get('password')?.errors?.['required']"
                    >Введите пароль</small
                >
                <small *ngIf="form.get('password')?.errors?.['minLength']"
                    >Минимальная длина пароля 6 символов</small
                >
            </div>
        </div>
        <button
            type="submit"
            class="btn btn-primary"
            [disabled]="form.invalid || submitted"
        >
            Войти
        </button>
    </form>
</div>
